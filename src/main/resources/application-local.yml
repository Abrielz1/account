# ===================================================================================
#      ПРОФИЛЬ ДЛЯ ЛОКАЛЬНОЙ РАЗРАБОТКИ
# ===================================================================================

spring:
  # Эта строка ОБЯЗАТЕЛЬНА. Она говорит, что данный документ - это профиль 'local'
  config:
    activate:
      on-profile: local

  # --- ЛОКАЛЬНЫЕ НАСТРОЙКИ ДЛЯ БАЗ ДАННЫХ ---
  # Хардкодим значения для простоты и изоляции. НЕ ИСПОЛЬЗУЕМ .env

  datasource-business:
    url: jdbc:postgresql://localhost:${BUSINESS_DB_PORT:5432}/business_app
    username: business_user
    password: business_password

  datasource-security:
    url: jdbc:postgresql://localhost:${SECURITY_DB_PORT:5433}/security_app
    username: security_user
    password: security_password

  # --- ЛОКАЛЬНЫЕ НАСТРОЙКИ REDIS ---
  data:
    redis:
      host: localhost
      port: ${REDIS_PORT:6379}

  # Включаем показ SQL для удобства отладки
  jpa:
    show-sql: true

# --- ЛОКАЛЬНЫЕ НАСТРОЙКИ ЛОГГИРОВАНИЯ ---
logging:
  level:
    # Включаем подробное логирование SQL и Spring Security
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql: TRACE
    org.springframework.security: DEBUG